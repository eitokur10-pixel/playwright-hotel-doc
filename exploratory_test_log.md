# 探索的テスト記録

## テスト実施情報

- **テスト実施日**: 2025年11月24日
- **テスト対象**: HOTEL PLANISPHERE テスト自動化練習サイト
- **テスト実施者**: QAエンジニア
- **テスト手法**: 探索的テスト（Session-Based Test Management）
- **使用ツール**: Playwright MCP

---

## 探索タイムライン

| No. | 時刻 | URL | 操作内容 | スクリーンショット |
|-----|------|-----|----------|-------------------|
| 1 | 開始 | https://hotel-example-site.takeyaqa.dev/ja/ | トップページにアクセス、サイト概要を確認 | hotel-homepage.png |
| 2 | +2分 | https://hotel-example-site.takeyaqa.dev/ja/plans.html | 未ログイン状態で宿泊プラン一覧を表示、7プラン確認 | plans-page-not-logged-in.png |
| 3 | +5分 | https://hotel-example-site.takeyaqa.dev/ja/login.html | ログイン画面にアクセス | - |
| 4 | +7分 | https://hotel-example-site.takeyaqa.dev/ja/mypage.html | プレミアム会員（ichiro@example.com）でログイン成功、マイページ表示 | - |
| 5 | +10分 | https://hotel-example-site.takeyaqa.dev/ja/plans.html | プレミアム会員状態で宿泊プラン一覧を表示、10プラン確認 | plans-page-premium-member.png |
| 6 | +12分 | https://hotel-example-site.takeyaqa.dev/ja/plans.html | ログアウト処理を実施 | - |

---

## 探索した機能一覧

### 1. 認証機能
- [x] ログイン機能（プレミアム会員）
- [x] ログアウト機能
- [x] Cookie による認証状態の保持
- [ ] ログイン失敗時のエラー表示（未実施）
- [ ] 一般会員でのログイン（未実施）
- [ ] 不正なパスワードでのログイン試行（未実施）

### 2. ナビゲーション機能
- [x] ホームリンク
- [x] 宿泊予約リンク
- [x] 会員登録リンク（未ログイン時）
- [x] マイページリンク（ログイン時）
- [x] ログインボタン（未ログイン時）
- [x] ログアウトボタン（ログイン時）

### 3. プラン表示機能
- [x] 未ログイン時のプラン表示（7プラン）
- [x] プレミアム会員時のプラン表示（10プラン）
- [x] Ajax による非同期読み込み
- [x] "Loading..." 表示
- [ ] 一般会員時のプラン表示（未実施）
- [ ] ネットワークエラー時の挙動（未実施）

### 4. プラン情報表示
- [x] プラン名の表示
- [x] 料金表示
- [x] 最小人数表示
- [x] 部屋タイプ表示
- [x] バッジ表示（おすすめ、会員限定、プレミアム会員限定）
- [x] 予約ボタンの配置

### 5. マイページ機能
- [x] ユーザー情報表示（メールアドレス、氏名、会員ランク、住所、電話番号、性別、生年月日、お知らせ受信設定）
- [ ] アイコン設定機能（ボタンは無効状態）
- [ ] 退会機能（ボタンは無効状態）

### 6. 未探索の機能
- [ ] 会員登録機能
- [ ] 宿泊予約機能（新規ウィンドウで開く）
- [ ] 宿泊予約確認画面
- [ ] フォーム入力バリデーション
- [ ] レスポンシブデザイン（モバイル表示）
- [ ] ブラウザの戻る/進むボタンの動作
- [ ] セッションタイムアウト

---

## テスト中に感じたこと

### 1. アプリの使いやすさについて

#### 良い点
- **シンプルなUI**: 余計な装飾がなく、テスト対象として明確
- **明確な状態遷移**: ログイン前後で表示が変わるのが分かりやすい
- **テストデータが充実**: 登録済みユーザーが4名用意されており、すぐにテスト可能

#### 改善が必要な点
- **フィードバックの不足**: ログイン成功/失敗の明示的なメッセージがない
- **エラーハンドリングが不明**: Ajax失敗時の挙動が見えない
- **Loading表示が短い**: 非同期処理の動作確認がしづらい（意図的に遅延させる仕組みがあると良い）
- **アイコン設定と退会ボタンが無効**: 新規登録ユーザーでないと使えない仕様だが、説明がない

### 2. QA練習用Webアプリとしての評価

#### 良い点
- **段階的な権限テスト**: 未ログイン/一般会員/プレミアム会員で表示が変わる仕組みが良い練習になる
- **複数の技術要素**: Cookie、Local Storage、Ajax、新規ウィンドウなど多様な技術が学べる
- **境界値テスト**: 人数制限、料金の違いなど境界値テストの練習ができそう
- **実践的なシナリオ**: ホテル予約という実際のビジネスフローに近い

#### もっと学びたいが不足している点
- **バリデーションエラーのバリエーション**: エラーメッセージの種類が少ない？
- **複雑なフォーム**: もっと項目数の多いフォームがあると良い
- **ファイルアップロード**: アイコン画像のアップロード機能を実際に試したい
- **並行処理のテスト**: 複数タブでの同時操作時の挙動テストができない
- **パフォーマンステスト**: 負荷テスト禁止なので性能面の学習ができない
- **アクセシビリティ**: ARIA属性やキーボード操作のテストポイントが少ない
- **国際化**: 日本語版のみで多言語対応のテストができない
- **セキュリティテスト**: XSS、SQLインジェクションなどの脆弱性テストの練習ができない

### 3. テスト技法の学習機会

#### 現状で学べる技法
- **状態遷移テスト**: ログイン状態の遷移テスト
- **同値分割・境界値分析**: 料金、人数の分類
- **デシジョンテーブル**: 会員ランク × プラン表示の組み合わせ
- **探索的テスト**: 自由に操作して気づきを得る

#### もっと練習したい技法
- **ペアワイズ法**: 複数パラメータの組み合わせテストの例が少ない
- **状態遷移の網羅**: もっと複雑な状態遷移があると良い
- **異常系テスト**: ネットワークエラー、タイムアウトなどの再現が難しい
- **セキュリティテスト**: 実践的な脆弱性診断の練習ができない
- **負荷テスト**: 明示的に禁止されている
- **モンキーテスト**: ランダム操作でのクラッシュテストができない

### 4. ドキュメントについて

#### 良い点
- **仕様が明記されている**: トップページに登録済みユーザーや構成が記載されている
- **利用上の注意が明確**: 負荷テスト禁止などが明記されている
- **サンプルコードの提供**: GitHubにSeleniumのサンプルコードがある

#### 改善の余地
- **詳細仕様書の不足**: バリデーションルールの詳細が不明
- **テストケース例がない**: 初心者向けのテストケース例があると良い
- **既知の不具合リスト**: 意図的なバグがあるのか不明
- **期待結果の明記**: 各機能の正常動作時の期待結果が不明確

---

## テストで気づいた点

### 1. ユーザビリティの問題

| No. | 問題点 | 重要度 | 詳細 |
|-----|-------|--------|------|
| 1 | ログイン成功の明示的なフィードバックがない | 低 | マイページに遷移するだけで「ログインしました」などのメッセージがない |
| 2 | Ajax読み込み中の表示が短すぎる | 低 | Loading表示がすぐに消えるため、非同期処理の動作確認がしづらい |
| 3 | プレミアム会員限定プランの説明不足 | 中 | 一般会員時にプレミアムプランが表示されるが、クリックできない理由の説明がない |
| 4 | アイコン設定・退会ボタンの無効理由が不明 | 低 | なぜボタンが無効なのか説明がない（新規登録ユーザーのみ有効） |

### 2. 動作上の懸念点

| No. | 懸念点 | 重要度 | 詳細 |
|-----|-------|--------|------|
| 1 | Cookie削除後の画面更新が必要 | 低 | ログアウト後、ページリロードしないと状態が反映されない場合がある |
| 2 | ブラウザバックボタンの動作未確認 | 中 | 予約画面から戻った場合の挙動が不明 |
| 3 | セッション管理の仕様不明 | 中 | セッションタイムアウトの仕様が不明 |
| 4 | エラー時の挙動未確認 | 中 | ネットワークエラー時の表示が未確認 |

### 3. テスト自動化の観点

#### 自動化しやすい点
- **明確なセレクタ**: ボタンやリンクにわかりやすい名前が付いている
- **安定したDOM構造**: ページリロード後も構造が一定
- **テストデータの準備不要**: 登録済みユーザーが用意されている

#### 自動化が難しい点
- **新規ウィンドウの操作**: 予約画面が新規ウィンドウで開くため、ウィンドウハンドルの切り替えが必要
- **Ajax のタイミング**: 非同期読み込みの待機処理が必要
- **状態のクリーンアップ**: テスト後のCookie/Storage削除が必要

---

## 総括

### 探索範囲
- **探索時間**: 約12分
- **探索したページ数**: 4ページ
- **実行した操作数**: 約15操作
- **発見した問題**: 0件（バグなし）
- **気づいた改善点**: 4件（ユーザビリティ）

### 次回探索すべき領域
1. 会員登録機能の詳細テスト
2. 宿泊予約フォームのバリデーション
3. 一般会員でのプラン表示確認
4. エラー系のシナリオテスト
5. ブラウザバック/フォワードの動作確認
6. モバイル表示のレスポンシブデザイン確認
7. 複数タブでの同時操作テスト

---

**記録日**: 2025年11月24日  
**テストセッション**: 第1回  
**次回セッション予定**: 会員登録機能の探索
